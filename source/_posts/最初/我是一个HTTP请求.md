title: 我是一个HTTP请求
author: LZH
tags:
  - HTTP
categories: []
date: 2019-05-29 11:27:00
---
自己理解的，不对请指出
    我是由一个应用控制电脑某个端口发送出来的，当我走出电脑的时候我要记住谁把我扔出来的（端口），也要知道我的目的地（IP或者URL）和目标端口，当我走出来后发现，这个世界太大了。我只在一个小村子里（局域网），我现在身上只有怀揣的秘密（HTTP数据），自身端口和目标IP及目标端口。我先在村子里喊（广播）：“有谁知道我的目标IP吗？”
-1.有人回应：我就通过ARP得到他的身份ID（MAC）直接发给他
-2.没人回应：那我就可怜了，就需要去问知识渊博的村长(路由器)了。
    村长那里有一个神奇的小本子记着几乎整个世界的信息（路由表），村长从本子上一看，帮我找到了一条最近的路线，让我带着干粮上路，此时村长根据NAT技术帮我标记了个回来的路（路由器一个端口指到我电脑，用来区分子网内不同机器），村长也根据ARP打听到了下一个村子的MAC，我就顺着网线直接过去了。此时我身上有了更多的信息了：HTTP新数据，目标IP及其端口，本地路由IP及其分配的端口，自身应用程序端口。我中间经过了很多村子（不断地路由），这段跟修真小说似的，每上一级就发现自己很菜需要路由各种转（每次看成重新开始）。
    我就带着这些信息一路走啊走啊。终于到了目标IP。然后我告诉这个村的村长，我找目标端口，村长带着我把我一路艰辛带过来的秘密（HTTP数据）和我的地址（本地路由IP及其分配的端口）告诉了目标端口，让他完事了记得告诉交代我任务的应用程序。到此我的就完成了我的使命！！